<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>043 Members Gallery</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500&display=swap" rel="stylesheet">
  <style>
.fadein { opacity: 0; animation: fadeInCard 0.3s ease forwards; }
@keyframes fadeInCard {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

body {
  font-family: 'IBM Plex Mono', monospace;
  background-image: radial-gradient(rgba(255,255,255,0.05) 1px, transparent 0);
  background-size: 4px 4px;
  background-blend-mode: overlay;
}
#line-container {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-left: 40px;
  margin-top: 0;
}
.line-entry {
  width: 300px;
  height: 30px;
  background-color: #6b7280;
  border-radius: 0.25rem;
  opacity: 0.6;
  transition: all 0.3s ease;
  cursor: pointer;
}
.line-entry:hover {
  opacity: 1;
  background-color: #d1d5db;
}
.line-entry.active {
  background-color: #1f2937;
  opacity: 1;
  height: 180px;
}
.line-entry img {
  display: none;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0.25rem;
}
.line-entry.active img {
  display: block;
}
.glitch-text {
  position: relative;
  color: white;
  animation: flicker 3s infinite linear;
}
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  left: 2px;
  top: 0;
  color: #ff00c8;
  opacity: 0.8;
  clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
}
.glitch-text::before {
  content: attr(data-text);
  position: absolute;
  left: -2px;
  top: 0;
  color: #00fff9;
  opacity: 0.8;
  clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
}
@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
    opacity: 1;
  }
  20%, 24%, 55% {
    opacity: 0.6;
  }
}
  </style>
</head>
<body class="bg-black text-white font-sans min-h-screen flex flex-col items-start justify-start p-8">
  <h1 class="text-3xl font-bold mb-8 self-start font-mono uppercase tracking-widest glitch-text" data-text="Dossier Archive">Dossier Archive</h1>
  <div class="flex flex-row gap-16 items-start w-full">
    <div id="line-container" class="relative">
      <!-- Lines injected here -->
    </div>
    <div id="member-description" class="max-w-xl text-gray-300 text-base leading-relaxed self-start mt-[80px]">
      <!-- Text will be injected here -->
    </div>
  </div>

  <script>
    let members = [];
    let currentIndex = 0;
    const container = document.getElementById('line-container');
    const description = document.getElementById('member-description');

    fetch('members.json')
      .then(res => res.json())
      .then(data => {
        members = data;
        renderLines();
        updateActiveEntry();
      });

    function renderLines() {
      container.innerHTML = '';
      members.forEach((member, index) => {
        const entry = document.createElement('div');
        entry.className = 'line-entry';
        entry.innerHTML = `<img src="${member.img}" alt="${member.name}">`;
        entry.addEventListener('click', () => {
          currentIndex = index;
          updateActiveEntry();
        });
        container.appendChild(entry);
      });
    }

    function updateActiveEntry() {
      Array.from(container.children).forEach((entry, index) => {
        entry.classList.toggle('active', index === currentIndex);
      });

      const m = members[currentIndex];
      const id = m.id || (m.name === 'Dasha' ? '00000049' : m.name === 'Narek' ? '00000058' : '00000043');
      description.innerHTML = `
        <div class="mb-4">
          <h2 class="text-2xl font-bold mb-1 tracking-wide uppercase">${m.name}</h2>
          <p class="text-sm text-gray-400 mb-1">${m.area}</p>
          <p class="text-sm text-gray-500 italic mb-1">ID: ${id}</p>
          <p class="text-xs text-gray-400 uppercase mb-4">Member since ${m.since || '2022'}</p>
          <h3 class="text-lg font-semibold mb-1">About</h3>
          <p class="mb-4">Watermelons are round, juicy, and best served cold. They come in many varieties, each with its own texture and sweetness. In the summer, they symbolize gatherings, sticky fingers, and the hunt for the ripest slice.</p>
          <h3 class="text-lg font-semibold mb-1">Cultural Relevance</h3>
          <p class="mb-4">In some parts of the world, watermelons are used in ceremonies, festivals, and design. Their green-striped surface is now iconic, and their color palette is often used in digital aesthetics and summer promotions.</p>
          <h3 class="text-lg font-semibold mb-1">Fun Facts</h3>
          <p>Seedless watermelons are a genetic marvel. A single watermelon is about 92% water. The largest watermelon ever grown weighed over 150 pounds.</p>
        </div>
      `;
    }
  </script>
</body>
</html>
